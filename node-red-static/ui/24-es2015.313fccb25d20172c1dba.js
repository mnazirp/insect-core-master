(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"2KQ/":function(t,e,n){"use strict";n.r(e),n.d(e,"SettingSetpointModule",(function(){return G}));var r=n("tyNb"),i=n("sYmb"),o=n("5HBU"),a=n("3Pt+");const c={lang:"en",data:{SAMPLE:{HELLO:"Hello, World!"}}},s={lang:"my",data:{}};var u=n("fXoL"),l=n("gPJw"),b=n("FrZB"),p=n("Rea6"),f=n("4WDQ"),m=n("EwFO"),d=n("XiUz"),h=n("ofXK"),T=n("kmnG"),y=n("qFsG"),g=n("bTqV"),x=n("tmjD");function v(t,e){1&t&&u.Pb(0,"input",14),2&t&&u.nc("mask","separator.4")("thousandSeparator",",")}function w(t,e){1&t&&u.Pb(0,"input",15)}function L(t,e){if(1&t){const t=u.Vb();u.Ub(0,"div",10),u.Ub(1,"mat-form-field",5),u.Ub(2,"mat-label"),u.Lc(3),u.Tb(),u.Jc(4,v,1,2,"input",11),u.Ub(5,"mat-error"),u.Lc(6,"This field is required"),u.Tb(),u.Jc(7,w,1,0,"input",12),u.Ub(8,"mat-error"),u.Lc(9,"This field is required"),u.Tb(),u.Tb(),u.Ub(10,"button",13),u.cc("click",(function(){u.yc(t);const n=e.index;return u.gc().update(n)})),u.Lc(11," UPDATE "),u.Tb(),u.Ub(12,"button",13),u.cc("click",(function(){u.yc(t);const n=e.index;return u.gc().remove(n)})),u.Lc(13," REMOVE "),u.Tb(),u.Tb()}if(2&t){const t=e.$implicit,n=e.index,r=u.gc();u.nc("formGroupName",n),u.Cb(3),u.Mc(t.value.type),u.Cb(1),u.nc("ngIf",1==r.isNumber(t.value.value)),u.Cb(3),u.nc("ngIf",0==r.isNumber(t.value.value))}}function F(t,e){1&t&&(u.Ub(0,"mat-form-field",5),u.Ub(1,"mat-label"),u.Lc(2,"Value(Number)"),u.Tb(),u.Pb(3,"input",14),u.Ub(4,"mat-error"),u.Lc(5,"This field is required"),u.Tb(),u.Tb()),2&t&&(u.Cb(3),u.nc("mask","separator.4")("thousandSeparator",","))}function U(t,e){1&t&&(u.Ub(0,"mat-form-field",5),u.Ub(1,"mat-label"),u.Lc(2,"Value(Text)"),u.Tb(),u.Pb(3,"input",15),u.Ub(4,"mat-error"),u.Lc(5,"This field is required"),u.Tb(),u.Tb())}function k(t,e){if(1&t){const t=u.Vb();u.Ub(0,"button",16),u.cc("click",(function(){return u.yc(t),u.gc().switchType()})),u.Lc(1," TEXT "),u.Tb()}}function C(t,e){if(1&t){const t=u.Vb();u.Ub(0,"button",16),u.cc("click",(function(){return u.yc(t),u.gc().switchType()})),u.Lc(1," NUMBER "),u.Tb()}}let S=(()=>{class t{constructor(t,e,n,r){this._fuseTranslationLoaderService=t,this.service=e,this.snack=n,this.global=r,this.numberTypeField=!0,this._fuseTranslationLoaderService.loadTranslations(c,s)}get setpoint(){return new a.k({type:new a.h,value:new a.h(null,a.z.required)})}get setpoints(){return this.form.get("setpoints")}ngOnInit(){this.initForm(),this.initFormTemp(),this.fetchSetpoints()}fetchSetpoints(){this.initForm(),this.service.fetch().subscribe(t=>{this.pushSetpointToForm(t)},t=>this.global.error(t))}pushSetpointToForm(t){t.forEach(t=>{this.setpoints.push(new a.k({type:new a.h(t.type),value:new a.h(t.value,a.z.required)}))})}initFormTemp(){this.formTemp=new a.k({type:new a.h(null,a.z.required),value:new a.h(null,a.z.required)})}initForm(){this.form=new a.k({setpoints:new a.e([])})}add(){this.formTemp.invalid?this.formTemp.markAllAsTouched():this.service.create(this.formTemp.value.type,this.formTemp.value.value).subscribe(t=>{this.fetchSetpoints(),this.formTemp.reset()},t=>this.global.error(t))}remove(t){this.service.delete(this.setpoints.at(t).value.type).subscribe(t=>{this.fetchSetpoints()},t=>this.global.error(t))}update(t){this.service.update(this.setpoints.at(t).value.type,this.setpoints.at(t).value.value).subscribe(t=>{this.fetchSetpoints()},t=>this.global.error(t))}switchType(){this.numberTypeField=!this.numberTypeField,this.formTemp.reset()}isNumber(t){return 0==isNaN(t)}}return t.\u0275fac=function(e){return new(e||t)(u.Ob(l.a),u.Ob(b.a),u.Ob(p.a),u.Ob(f.a))},t.\u0275cmp=u.Ib({type:t,selectors:[["app-setting-setpoint"]],decls:17,vars:7,consts:[["fusePerfectScrollbar","","fxLayoutAlign","center center",1,"page-layout","blank","p-24"],["fxFlex.gt-xs","500px","fxFlex.gt-sm","800px","fxFlex.gt-md","1000px","fxFlex.gt-lg","1140px","fxLayoutAlign","center center","fxLayout","column",3,"formGroup"],["formArrayName","setpoints"],["fxLayout","row","style","width: 100%","fxLayoutAlign","space-between center","fxLayoutGap","24px",3,"formGroupName",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","24px",2,"width","100%",3,"formGroup"],["appearance","outline",2,"width","100%"],["matInput","","formControlName","type"],["appearance","outline","style","width: 100%",4,"ngIf"],["mat-raised-button","","color","accent","aria-label","ADD","type","button","fxFlex","20",3,"click"],["mat-raised-button","","color","accent","aria-label","ADD","type","button","fxFlex","10",3,"click",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","24px",2,"width","100%",3,"formGroupName"],["matInput","","formControlName","value",3,"mask","thousandSeparator",4,"ngIf"],["matInput","","formControlName","value",4,"ngIf"],["mat-raised-button","","color","accent","aria-label","REMOVE","type","button","fxFlex","10",3,"click"],["matInput","","formControlName","value",3,"mask","thousandSeparator"],["matInput","","formControlName","value"],["mat-raised-button","","color","accent","aria-label","ADD","type","button","fxFlex","10",3,"click"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Sb(2,2),u.Jc(3,L,14,4,"div",3),u.Ub(4,"div",4),u.Ub(5,"mat-form-field",5),u.Ub(6,"mat-label"),u.Lc(7,"Type"),u.Tb(),u.Pb(8,"input",6),u.Ub(9,"mat-error"),u.Lc(10,"This field is required"),u.Tb(),u.Tb(),u.Jc(11,F,6,2,"mat-form-field",7),u.Jc(12,U,6,0,"mat-form-field",7),u.Ub(13,"button",8),u.cc("click",(function(){return e.add()})),u.Lc(14," ADD "),u.Tb(),u.Jc(15,k,2,0,"button",9),u.Jc(16,C,2,0,"button",9),u.Tb(),u.Rb(),u.Tb(),u.Tb()),2&t&&(u.Cb(1),u.nc("formGroup",e.form),u.Cb(2),u.nc("ngForOf",e.setpoints.controls),u.Cb(1),u.nc("formGroup",e.formTemp),u.Cb(7),u.nc("ngIf",1==e.numberTypeField),u.Cb(1),u.nc("ngIf",0==e.numberTypeField),u.Cb(3),u.nc("ngIf",1==e.numberTypeField),u.Cb(1),u.nc("ngIf",0==e.numberTypeField))},directives:[m.a,d.b,d.a,d.c,a.t,a.l,a.f,h.s,d.d,T.c,T.g,y.b,a.d,a.s,a.j,T.b,h.t,g.b,a.m,x.a],styles:[""]}),t})();var I=n("f0Cb");const N=[{path:"",component:S}],A=[T.e,y.c,g.c,I.b];let G=(()=>{class t{}return t.\u0275mod=u.Mb({type:t}),t.\u0275inj=u.Lb({factory:function(e){return new(e||t)},imports:[[r.l.forChild(N),i.b,o.a,a.n,a.x,x.b,A]]}),t})()}}]);