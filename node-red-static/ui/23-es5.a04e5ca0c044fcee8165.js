!function(){function r(r,s){if(!(r instanceof s))throw new TypeError("Cannot call a class as a function")}function s(r,s){for(var e=0;e<s.length;e++){var t=s[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function e(r,e,t){return e&&s(r.prototype,e),t&&s(r,t),r}(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{M28B:function(s,t,o){"use strict";o.r(t),o.d(t,"ResetPasswordModule",(function(){return q}));var a,i=o("tyNb"),n=o("bTqV"),d=o("kmnG"),p=o("NFeN"),c=o("qFsG"),u=o("5HBU"),w=o("3Pt+"),b=o("XNiG"),f=o("1G5W"),m=o("PVWW"),l=o("fXoL"),g=o("0JVi"),h=o("tk/3"),x=((a=function(){function s(e){r(this,s),this.http=e}return e(s,[{key:"resetPassword",value:function(r,s){return this.http.post("/api/reset-password/finish",{reset_id:r,password:s})}}]),s}()).\u0275fac=function(r){return new(r||a)(l.Yb(h.b))},a.\u0275prov=l.Kb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),v=o("XiUz"),y=o("ofXK");function P(r,s){1&r&&(l.Ub(0,"mat-error"),l.Lc(1," Password is required "),l.Tb())}function C(r,s){1&r&&(l.Ub(0,"mat-error"),l.Lc(1," Password is too short "),l.Tb())}function T(r,s){1&r&&(l.Ub(0,"mat-error"),l.Lc(1," Password confirmation is required "),l.Tb())}function U(r,s){1&r&&(l.Ub(0,"mat-error"),l.Lc(1," Passwords must match "),l.Tb())}function k(r,s){1&r&&(l.Ub(0,"span"),l.Lc(1," Reset succeed, you can now login with your new password. "),l.Tb())}function L(r,s){if(1&r&&(l.Ub(0,"span",16),l.Lc(1),l.Tb()),2&r){var e=l.gc();l.Cb(1),l.Nc(" Failed to reset password: ",e.failedMsg," ")}}var I,F,H=function(){return{duration:"300ms",y:"100px"}},S=function(r){return{value:"*",params:r}},A=((I=function(){function s(e,t,o,a){var i=this;r(this,s),this._fuseConfigService=e,this._formBuilder=t,this.service=o,this.activatedRoute=a,this.passwordHide=!0,this._fuseConfigService.config={layout:{navbar:{hidden:!0},toolbar:{hidden:!0},footer:{hidden:!0},sidepanel:{hidden:!0}}},this._unsubscribeAll=new b.a,this.activatedRoute.queryParams.subscribe((function(r){i.resetId=r.resetId,console.log(i.resetId)}))}return e(s,[{key:"ngOnInit",value:function(){var r=this;this.resetPasswordForm=this._formBuilder.group({name:[""],email:[""],password:["",[w.z.required,w.z.minLength(8)]],passwordConfirm:["",[w.z.required,E]]}),this.resetPasswordForm.get("password").valueChanges.pipe(Object(f.a)(this._unsubscribeAll)).subscribe((function(){r.resetPasswordForm.get("passwordConfirm").updateValueAndValidity()}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"submit",value:function(){var r=this;this.submitted=!1,this.resetPasswordForm.invalid?this.resetPasswordForm.markAllAsTouched():(this.submitted=!0,this.service.resetPassword(this.resetId,this.resetPasswordForm.value.password).subscribe((function(s){r.succeeded=!0}),(function(s){r.failed=!0,r.failedMsg=s.error.message||"Error"})))}}]),s}()).\u0275fac=function(r){return new(r||I)(l.Ob(g.b),l.Ob(w.g),l.Ob(x),l.Ob(i.a))},I.\u0275cmp=l.Ib({type:I,selectors:[["reset-password"]],decls:34,vars:20,consts:[["id","reset-password","fxLayout","column"],["id","reset-password-form-wrapper","fxLayout","column","fxLayoutAlign","center center"],["id","reset-password-form"],[1,"logo"],["src","assets/icons/protenga/favicon.png"],[1,"title"],["name","resetPasswordForm","novalidate","",3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[4,"ngIf"],["matInput","","formControlName","passwordConfirm",3,"type"],["mat-raised-button","","color","accent","aria-label","RESET MY PASSWORD",1,"submit-button"],["fxLayout","row","fxLayoutAlign","center center",1,"login"],["style","color: red;",4,"ngIf"],[1,"link",3,"routerLink"],[2,"color","red"]],template:function(r,s){1&r&&(l.Ub(0,"div",0),l.Ub(1,"div",1),l.Ub(2,"div",2),l.Ub(3,"div",3),l.Pb(4,"img",4),l.Tb(),l.Ub(5,"div",5),l.Lc(6,"RESET YOUR PASSWORD"),l.Tb(),l.Ub(7,"form",6),l.cc("ngSubmit",(function(){return s.submit()})),l.Ub(8,"mat-form-field",7),l.Ub(9,"mat-label"),l.Lc(10,"Password"),l.Tb(),l.Pb(11,"input",8),l.Ub(12,"button",9),l.cc("click",(function(){return s.passwordHide=!s.passwordHide})),l.Ub(13,"mat-icon"),l.Lc(14),l.Tb(),l.Tb(),l.Jc(15,P,2,0,"mat-error",10),l.Jc(16,C,2,0,"mat-error",10),l.Tb(),l.Ub(17,"mat-form-field",7),l.Ub(18,"mat-label"),l.Lc(19,"Password (Confirm)"),l.Tb(),l.Pb(20,"input",11),l.Ub(21,"button",9),l.cc("click",(function(){return s.passwordHide=!s.passwordHide})),l.Ub(22,"mat-icon"),l.Lc(23),l.Tb(),l.Tb(),l.Jc(24,T,2,0,"mat-error",10),l.Jc(25,U,2,0,"mat-error",10),l.Tb(),l.Ub(26,"button",12),l.Lc(27," RESET MY PASSWORD "),l.Tb(),l.Tb(),l.Ub(28,"div",13),l.Jc(29,k,2,0,"span",10),l.Jc(30,L,2,1,"span",14),l.Tb(),l.Ub(31,"div",13),l.Ub(32,"a",15),l.Lc(33,"Go back to login"),l.Tb(),l.Tb(),l.Tb(),l.Tb(),l.Tb()),2&r&&(l.Cb(2),l.nc("@animate",l.qc(18,S,l.pc(17,H))),l.Cb(5),l.nc("formGroup",s.resetPasswordForm),l.Cb(4),l.nc("type",s.passwordHide?"password":"text"),l.Cb(1),l.Db("aria-label","Hide password")("aria-pressed",s.passwordHide),l.Cb(2),l.Mc(s.passwordHide?"visibility_off":"visibility"),l.Cb(1),l.nc("ngIf",s.resetPasswordForm.get("password").hasError("required")),l.Cb(1),l.nc("ngIf",s.resetPasswordForm.get("password").hasError("minlength")),l.Cb(4),l.nc("type",s.passwordHide?"password":"text"),l.Cb(1),l.Db("aria-label","Hide password")("aria-pressed",s.passwordHide),l.Cb(2),l.Mc(s.passwordHide?"visibility_off":"visibility"),l.Cb(1),l.nc("ngIf",s.resetPasswordForm.get("passwordConfirm").hasError("required")),l.Cb(1),l.nc("ngIf",!s.resetPasswordForm.get("passwordConfirm").hasError("required")&&s.resetPasswordForm.get("passwordConfirm").hasError("passwordsNotMatching")),l.Cb(4),l.nc("ngIf",s.submitted&&s.succeeded),l.Cb(1),l.nc("ngIf",s.submitted&&s.failed),l.Cb(2),l.nc("routerLink","/login/id"))},directives:[v.c,v.b,w.A,w.t,w.l,d.c,d.g,c.b,w.d,w.s,w.j,n.b,d.i,p.a,y.t,i.k,d.b],styles:["reset-password #reset-password{width:100%;background:url(/assets/images/backgrounds/dark-material-bg.jpg) no-repeat;background-size:cover}reset-password #reset-password #reset-password-form-wrapper{flex:1 0 auto;padding:32px}@media screen and (max-width:599px){reset-password #reset-password #reset-password-form-wrapper{padding:16px}}reset-password #reset-password #reset-password-form-wrapper #reset-password-form{width:400px;max-width:400px;padding:32px;text-align:center;box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}@media screen and (max-width:599px){reset-password #reset-password #reset-password-form-wrapper #reset-password-form{padding:24px;width:100%}}reset-password #reset-password #reset-password-form-wrapper #reset-password-form .logo{width:128px;margin:32px auto}reset-password #reset-password #reset-password-form-wrapper #reset-password-form .title{font-size:20px;margin:16px 0 32px}reset-password #reset-password #reset-password-form-wrapper #reset-password-form form{width:100%;text-align:left}reset-password #reset-password #reset-password-form-wrapper #reset-password-form form mat-form-field{width:100%}reset-password #reset-password #reset-password-form-wrapper #reset-password-form form .submit-button{width:220px;margin:16px auto;display:block}@media screen and (max-width:599px){reset-password #reset-password #reset-password-form-wrapper #reset-password-form form .submit-button{width:90%}}reset-password #reset-password #reset-password-form-wrapper #reset-password-form .login{margin:32px auto 24px;width:250px;font-weight:600}reset-password #reset-password #reset-password-form-wrapper #reset-password-form .login .text{margin-right:8px}"],encapsulation:2,data:{animation:m.a}}),I),E=function(r){if(!r.parent||!r)return null;var s=r.parent.get("password"),e=r.parent.get("passwordConfirm");return s&&e?""===e.value||s.value===e.value?null:{passwordsNotMatching:!0}:null},O=[{path:"",component:A}],q=((F=function s(){r(this,s)}).\u0275mod=l.Mb({type:F}),F.\u0275inj=l.Lb({factory:function(r){return new(r||F)},imports:[[i.l.forChild(O),n.c,d.e,p.b,c.c,u.a]]}),F)}}])}();