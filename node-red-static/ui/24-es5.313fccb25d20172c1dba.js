!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"2KQ/":function(n,r,i){"use strict";i.r(r),i.d(r,"SettingSetpointModule",(function(){return D}));var o=i("tyNb"),a=i("sYmb"),u=i("5HBU"),c=i("3Pt+"),l={lang:"en",data:{SAMPLE:{HELLO:"Hello, World!"}}},s={lang:"my",data:{}},f=i("fXoL"),b=i("gPJw"),p=i("FrZB"),m=i("Rea6"),d=i("4WDQ"),h=i("EwFO"),y=i("XiUz"),v=i("ofXK"),T=i("kmnG"),g=i("qFsG"),x=i("bTqV"),w=i("tmjD");function k(e,t){1&e&&f.Pb(0,"input",14),2&e&&f.nc("mask","separator.4")("thousandSeparator",",")}function L(e,t){1&e&&f.Pb(0,"input",15)}function F(e,t){if(1&e){var n=f.Vb();f.Ub(0,"div",10),f.Ub(1,"mat-form-field",5),f.Ub(2,"mat-label"),f.Lc(3),f.Tb(),f.Jc(4,k,1,2,"input",11),f.Ub(5,"mat-error"),f.Lc(6,"This field is required"),f.Tb(),f.Jc(7,L,1,0,"input",12),f.Ub(8,"mat-error"),f.Lc(9,"This field is required"),f.Tb(),f.Tb(),f.Ub(10,"button",13),f.cc("click",(function(){f.yc(n);var e=t.index;return f.gc().update(e)})),f.Lc(11," UPDATE "),f.Tb(),f.Ub(12,"button",13),f.cc("click",(function(){f.yc(n);var e=t.index;return f.gc().remove(e)})),f.Lc(13," REMOVE "),f.Tb(),f.Tb()}if(2&e){var r=t.$implicit,i=t.index,o=f.gc();f.nc("formGroupName",i),f.Cb(3),f.Mc(r.value.type),f.Cb(1),f.nc("ngIf",1==o.isNumber(r.value.value)),f.Cb(3),f.nc("ngIf",0==o.isNumber(r.value.value))}}function U(e,t){1&e&&(f.Ub(0,"mat-form-field",5),f.Ub(1,"mat-label"),f.Lc(2,"Value(Number)"),f.Tb(),f.Pb(3,"input",14),f.Ub(4,"mat-error"),f.Lc(5,"This field is required"),f.Tb(),f.Tb()),2&e&&(f.Cb(3),f.nc("mask","separator.4")("thousandSeparator",","))}function C(e,t){1&e&&(f.Ub(0,"mat-form-field",5),f.Ub(1,"mat-label"),f.Lc(2,"Value(Text)"),f.Tb(),f.Pb(3,"input",15),f.Ub(4,"mat-error"),f.Lc(5,"This field is required"),f.Tb(),f.Tb())}function S(e,t){if(1&e){var n=f.Vb();f.Ub(0,"button",16),f.cc("click",(function(){return f.yc(n),f.gc().switchType()})),f.Lc(1," TEXT "),f.Tb()}}function I(e,t){if(1&e){var n=f.Vb();f.Ub(0,"button",16),f.cc("click",(function(){return f.yc(n),f.gc().switchType()})),f.Lc(1," NUMBER "),f.Tb()}}var N,A,E=((N=function(){function n(t,r,i,o){e(this,n),this._fuseTranslationLoaderService=t,this.service=r,this.snack=i,this.global=o,this.numberTypeField=!0,this._fuseTranslationLoaderService.loadTranslations(l,s)}var r,i,o;return r=n,(i=[{key:"ngOnInit",value:function(){this.initForm(),this.initFormTemp(),this.fetchSetpoints()}},{key:"fetchSetpoints",value:function(){var e=this;this.initForm(),this.service.fetch().subscribe((function(t){e.pushSetpointToForm(t)}),(function(t){return e.global.error(t)}))}},{key:"pushSetpointToForm",value:function(e){var t=this;e.forEach((function(e){t.setpoints.push(new c.k({type:new c.h(e.type),value:new c.h(e.value,c.z.required)}))}))}},{key:"initFormTemp",value:function(){this.formTemp=new c.k({type:new c.h(null,c.z.required),value:new c.h(null,c.z.required)})}},{key:"initForm",value:function(){this.form=new c.k({setpoints:new c.e([])})}},{key:"add",value:function(){var e=this;this.formTemp.invalid?this.formTemp.markAllAsTouched():this.service.create(this.formTemp.value.type,this.formTemp.value.value).subscribe((function(t){e.fetchSetpoints(),e.formTemp.reset()}),(function(t){return e.global.error(t)}))}},{key:"remove",value:function(e){var t=this;this.service.delete(this.setpoints.at(e).value.type).subscribe((function(e){t.fetchSetpoints()}),(function(e){return t.global.error(e)}))}},{key:"update",value:function(e){var t=this;this.service.update(this.setpoints.at(e).value.type,this.setpoints.at(e).value.value).subscribe((function(e){t.fetchSetpoints()}),(function(e){return t.global.error(e)}))}},{key:"switchType",value:function(){this.numberTypeField=!this.numberTypeField,this.formTemp.reset()}},{key:"isNumber",value:function(e){return 0==isNaN(e)}},{key:"setpoint",get:function(){return new c.k({type:new c.h,value:new c.h(null,c.z.required)})}},{key:"setpoints",get:function(){return this.form.get("setpoints")}}])&&t(r.prototype,i),o&&t(r,o),n}()).\u0275fac=function(e){return new(e||N)(f.Ob(b.a),f.Ob(p.a),f.Ob(m.a),f.Ob(d.a))},N.\u0275cmp=f.Ib({type:N,selectors:[["app-setting-setpoint"]],decls:17,vars:7,consts:[["fusePerfectScrollbar","","fxLayoutAlign","center center",1,"page-layout","blank","p-24"],["fxFlex.gt-xs","500px","fxFlex.gt-sm","800px","fxFlex.gt-md","1000px","fxFlex.gt-lg","1140px","fxLayoutAlign","center center","fxLayout","column",3,"formGroup"],["formArrayName","setpoints"],["fxLayout","row","style","width: 100%","fxLayoutAlign","space-between center","fxLayoutGap","24px",3,"formGroupName",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","24px",2,"width","100%",3,"formGroup"],["appearance","outline",2,"width","100%"],["matInput","","formControlName","type"],["appearance","outline","style","width: 100%",4,"ngIf"],["mat-raised-button","","color","accent","aria-label","ADD","type","button","fxFlex","20",3,"click"],["mat-raised-button","","color","accent","aria-label","ADD","type","button","fxFlex","10",3,"click",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center","fxLayoutGap","24px",2,"width","100%",3,"formGroupName"],["matInput","","formControlName","value",3,"mask","thousandSeparator",4,"ngIf"],["matInput","","formControlName","value",4,"ngIf"],["mat-raised-button","","color","accent","aria-label","REMOVE","type","button","fxFlex","10",3,"click"],["matInput","","formControlName","value",3,"mask","thousandSeparator"],["matInput","","formControlName","value"],["mat-raised-button","","color","accent","aria-label","ADD","type","button","fxFlex","10",3,"click"]],template:function(e,t){1&e&&(f.Ub(0,"div",0),f.Ub(1,"div",1),f.Sb(2,2),f.Jc(3,F,14,4,"div",3),f.Ub(4,"div",4),f.Ub(5,"mat-form-field",5),f.Ub(6,"mat-label"),f.Lc(7,"Type"),f.Tb(),f.Pb(8,"input",6),f.Ub(9,"mat-error"),f.Lc(10,"This field is required"),f.Tb(),f.Tb(),f.Jc(11,U,6,2,"mat-form-field",7),f.Jc(12,C,6,0,"mat-form-field",7),f.Ub(13,"button",8),f.cc("click",(function(){return t.add()})),f.Lc(14," ADD "),f.Tb(),f.Jc(15,S,2,0,"button",9),f.Jc(16,I,2,0,"button",9),f.Tb(),f.Rb(),f.Tb(),f.Tb()),2&e&&(f.Cb(1),f.nc("formGroup",t.form),f.Cb(2),f.nc("ngForOf",t.setpoints.controls),f.Cb(1),f.nc("formGroup",t.formTemp),f.Cb(7),f.nc("ngIf",1==t.numberTypeField),f.Cb(1),f.nc("ngIf",0==t.numberTypeField),f.Cb(3),f.nc("ngIf",1==t.numberTypeField),f.Cb(1),f.nc("ngIf",0==t.numberTypeField))},directives:[h.a,y.b,y.a,y.c,c.t,c.l,c.f,v.s,y.d,T.c,T.g,g.b,c.d,c.s,c.j,T.b,v.t,x.b,c.m,w.a],styles:[""]}),N),G=i("f0Cb"),O=[{path:"",component:E}],q=[T.e,g.c,x.c,G.b],D=((A=function t(){e(this,t)}).\u0275mod=f.Mb({type:A}),A.\u0275inj=f.Lb({factory:function(e){return new(e||A)},imports:[[o.l.forChild(O),a.b,u.a,c.n,c.x,w.b,q]]}),A)}}])}();